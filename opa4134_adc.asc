Version 4
SHEET 1 3304 912
WIRE 2096 192 1968 192
WIRE 2256 192 2096 192
WIRE 1168 224 1072 224
WIRE 2704 224 2608 224
WIRE 1968 240 1968 192
WIRE 2096 240 2096 192
WIRE 496 304 336 304
WIRE 1168 304 1168 224
WIRE 1200 304 1168 304
WIRE 1328 304 1280 304
WIRE 2704 304 2704 224
WIRE 2736 304 2704 304
WIRE 2864 304 2816 304
WIRE 336 400 336 304
WIRE 384 400 336 400
WIRE 1168 400 1168 304
WIRE 1216 400 1168 400
WIRE 2704 400 2704 304
WIRE 2752 400 2704 400
WIRE 496 416 496 304
WIRE 496 416 448 416
WIRE 1328 416 1328 304
WIRE 1328 416 1280 416
WIRE 2864 416 2864 304
WIRE 2864 416 2816 416
WIRE 0 432 -32 432
WIRE 80 432 64 432
WIRE 240 432 240 416
WIRE 240 432 144 432
WIRE 384 432 240 432
WIRE 1216 432 1072 432
WIRE 2752 432 2608 432
WIRE 2144 448 2144 400
WIRE 240 464 240 432
WIRE 1856 464 1744 464
WIRE 1968 464 1968 320
WIRE 1968 464 1936 464
WIRE 2000 464 1968 464
WIRE 2096 464 2096 304
WIRE 2096 464 2080 464
WIRE 2112 464 2096 464
WIRE 2256 480 2256 192
WIRE 2256 480 2176 480
WIRE 2112 496 2080 496
WIRE 1968 512 1968 464
WIRE 2080 544 2080 496
WIRE 2144 544 2144 512
WIRE -336 720 -336 704
WIRE -224 720 -336 720
WIRE -112 720 -112 672
WIRE -336 736 -336 720
FLAG -112 800 0
FLAG -112 672 Vcc
FLAG 2144 400 Vcc
FLAG 2144 544 0
FLAG 2080 544 Vcom
FLAG -224 720 Vcom
FLAG 1744 464 Vsig_amp
FLAG 1968 576 0
FLAG 2256 480 Vsig_filt
FLAG -592 704 Vsig
FLAG -592 784 0
FLAG 416 448 0
FLAG 416 384 Vcc
FLAG 240 544 0
FLAG 240 336 Vcc
FLAG -32 432 Vsig
FLAG 496 416 Vsig_buf
FLAG 1248 448 0
FLAG 1248 384 Vcc
FLAG 1072 432 Vcom
FLAG 992 224 Vsig_buf
FLAG 1328 416 Vsig_amp
FLAG -336 816 0
FLAG -336 624 Vcc
FLAG 2784 448 0
FLAG 2784 384 Vcc
FLAG 2608 432 Vcom
FLAG 2528 224 Vsig_filt
FLAG 2864 416 Vsig_filt_inv
SYMBOL Opamps/UniversalOpAmp2 2144 480 R0
SYMATTR InstName U2
SYMATTR Value2 Avol=1Meg GBW=8Meg Slew=20Meg
SYMATTR SpiceLine Ilimit=25m Rail=0 Vos=1e-3
SYMBOL voltage -112 704 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 1840 480 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 500
SYMBOL Res 1952 224 R0
SYMATTR InstName R4
SYMATTR Value 500
SYMBOL Res 2096 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 200
SYMBOL cap 2112 304 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C5
SYMATTR Value 10nF
SYMBOL cap 1952 512 R0
SYMATTR InstName C2
SYMATTR Value 40nF
SYMBOL voltage -592 688 R0
WINDOW 3 17 90 Left 2
SYMATTR Value SINE(0 100mv {f})
SYMATTR InstName ESP_DAC
SYMATTR Value2 AC 1
SYMBOL Opamps/UniversalOpAmp2 416 416 R0
SYMATTR InstName U1
SYMBOL cap 64 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µF
SYMBOL res 224 320 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 224 448 R0
SYMATTR InstName R5
SYMATTR Value 11.5k
SYMBOL Opamps/UniversalOpAmp2 1248 416 R0
SYMATTR InstName U3
SYMBOL res 1296 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 5k
SYMBOL res 1088 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 250
SYMBOL res -352 608 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -352 720 R0
SYMATTR InstName R11
SYMATTR Value 11.5k
SYMBOL Opamps/UniversalOpAmp2 2784 416 R0
SYMATTR InstName U4
SYMBOL res 2832 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 2624 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL cap 144 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10µF
TEXT 464 856 Left 2 ;.ac dec 10 .1Hz 100kHz
TEXT 464 816 Left 2 !.tran 1ms
TEXT 464 896 Left 2 !.step param f list 0 1k
TEXT 840 816 Left 2 ;# Uncomment this command for time-domain analysis of signal
TEXT 840 856 Left 2 ;# Uncomment this command for frequency-domain analysis of signal
TEXT 56 664 Left 2 ;This stage biases the input signal to ~2.6V. This ensures that\nthe input terminals do not go below the common mode voltage\nrange of the OPA2134. The capacitor value was chosen to minimize\nattenuation of frequencies above DC, and to minimize current draw\nfrom the guitar
TEXT 1696 704 Left 2 ;This stage is a two-pole lowpass filter with corner frequency ~20kHz
TEXT 1048 656 Left 2 ;This is a gain stage.
TEXT 2584 656 Left 2 ;This is stage provides an inverted signal. The inverted and\nnon-inverted signals together provide a differential signal\nto the ADC. \nTo save on parts, we could replace the inverted signal with Vcom. \nIn this case, and assuming the non-inverted signal varies from\nrail to rail, the ADC will measure a 2.5 Vpp signal and output a \ncorresponding PCM signal. If we provide an inverted signal, the ADC\nwill measure a 5Vpp signal. The trade off is therefore between part\ncost and ADC resolution.
